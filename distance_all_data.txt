
DECLARE
 var_r record;
BEGIN
FOR var_r IN(select * from (select
					2 * 3961 * asin(sqrt((sin(radians((latitude - i) / 2))) ^ 2 
				+ cos(radians(i)) * cos(radians(latitude)) * (sin(radians((longitude - j) / 2))) ^ 2)) as distance,
				uker.*
				from
					uker_tables uker)newtabs where newtabs.distance>=k)
				
LOOP
              distance := var_r.distance ; 
       unit_kerja := var_r.unit_kerja;
       unit_induk := var_r.unit_induk;
       kanca_induk := var_r.kanca_induk;
       jenis_uker := var_r.jenis_uker;
       kode_uker := var_r.kode_uker;
       dati2 := var_r.dati2;
       dati1 := var_r.dati1;
       alamat := var_r.alamat;
       no_telp := var_r.no_telp;
       no_fax := var_r.no_fax;
       koordinat := var_r.koordinat;

              RETURN NEXT;
            END LOOP;
END
